@model DashboardViewModel
@{
    ViewData["Title"] = "Dashboard";
}

<h1 class="text-3xl font-bold mb-6">Dashboard</h1>

<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-gray-400 text-sm mb-2">Total Users</h3>
        <p class="text-3xl font-bold">@Model.TotalUsers</p>
    </div>
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-gray-400 text-sm mb-2">Total Movies</h3>
        <p class="text-3xl font-bold">@Model.TotalMovies</p>
    </div>
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-gray-400 text-sm mb-2">Total Tickets</h3>
        <p class="text-3xl font-bold">@Model.TotalTickets</p>
    </div>
    <div class="bg-gray-800 rounded-lg p-6">
        <h3 class="text-gray-400 text-sm mb-2">Total Revenue</h3>
        <p class="text-3xl font-bold">@Model.TotalRevenue.ToString("F2") €</p>
    </div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="bg-gray-800 rounded-lg p-6">
        <h2 class="text-xl font-bold mb-4">Recent Tickets</h2>
        <div class="space-y-4">
            @foreach (var ticket in Model.RecentTickets.Take(5))
            {
                <div class="border-b border-gray-700 pb-3">
                    <p class="font-semibold">@ticket.Showtime.Movie.Title</p>
                    <p class="text-sm text-gray-400">@ticket.User.UserName • @ticket.PurchaseDate.ToString("MMM dd, yyyy")</p>
                    <p class="text-sm text-gray-400">@ticket.Price.ToString("F2") €</p>
                </div>
            }
        </div>
    </div>
    
    <div class="bg-gray-800 rounded-lg p-6">
        <h2 class="text-xl font-bold mb-4">Movies by Genre</h2>
        <div class="space-y-2">
            @foreach (var item in Model.MoviesByGenre)
            {
                <div class="flex justify-between">
                    <span>@item.Genre</span>
                    <span class="font-bold">@item.Count</span>
                </div>
            }
        </div>
    </div>
</div>

